import{h as b,m as g,o as c,c as n,b as e,u as s,w as x,v as k,g as w}from"./index-4UUoQKv_.js";const T={class:"container-fluid"},E={class:"row"},V={class:"col-12"},B={class:"card"},C={key:0},L=e("h3",{class:"p-1"},"Cập nhật",-1),M=[L],N={key:1},$=e("h3",{class:"p-1"},"Thêm mới",-1),q=[$],D={class:"form-horizontal"},H={class:"card-body"},U=e("h4",{class:"card-title"},null,-1),z={class:"form-group row"},j=e("label",{for:"fname",class:"col-sm-3 text-end control-label col-form-label"},"Tên ",-1),A={class:"col-sm-9"},F=["innerHTML"],J={__name:"EditView",setup(G){const{route:l,ref:d,loadDetail:h,handleUpdate:u,router:m,error:p,errors:i,fillErrors:v,existError:_}=b(),t=d(g);let a=d(l.params.id);a.value?h("get",`categories/${a.value}`).then(o=>{t.value=o.data.data}):l.query.name&&(t.value.name=l.query.name);const f=()=>{let o=[t.value];a.value?o.push("put",`categories/${a.value}`):o.push("post","categories"),u(...o).then(()=>{m.push({name:"web-category"})}).catch(r=>{v(r,p,i,!0)})};return(o,r)=>(c(),n("div",T,[e("div",E,[e("div",V,[e("div",B,[s(a)&&s(t).id?(c(),n("div",C,M)):(c(),n("div",N,q)),e("form",D,[e("div",H,[U,e("div",z,[j,e("div",A,[x(e("input",{type:"text",class:"form-control",placeholder:"Nhập tên","onUpdate:modelValue":r[0]||(r[0]=y=>s(t).name=y)},null,512),[[k,s(t).name]]),s(_)(s(i),"name")?(c(),n("span",{key:0,class:"text-danger",innerHTML:s(_)(s(i),"name")},null,8,F)):w("",!0)])])]),e("div",{class:"border-top"},[e("div",{class:"card-body"},[e("button",{onClick:f,type:"button",class:"btn btn-primary"},"Lưu")])])])])])])]))}};export{J as default};
