import{h as g,s as x,o as l,c as n,b as e,u as s,w as k,v as w,g as C}from"./index-4UUoQKv_.js";const T={class:"container-fluid"},E={class:"row"},V={class:"col-12"},q={class:"card"},B={key:0},L=e("h3",{class:"p-1"},"Cập nhật",-1),M=[L],N={key:1},$=e("h3",{class:"p-1"},"Thêm mới",-1),D=[$],H={class:"form-horizontal"},U={class:"card-body"},z=e("h4",{class:"card-title"},null,-1),j={class:"form-group row"},A=e("label",{for:"fname",class:"col-sm-3 text-end control-label col-form-label"},"Tên ",-1),F={class:"col-sm-9"},G=["innerHTML"],K={__name:"EditView",setup(I){const{route:r,ref:i,loadDetail:h,handleUpdate:m,router:p,error:v,errors:d,fillErrors:b,existError:_}=g();let a=i(r.params.id);const u=i({category_id:r.params.category_id});let t=i(x);t.value.category_id=u.value.category_id||"",a.value?h("get",`sub-categories/${a.value}`).then(o=>{t.value={...o.data.data}}):r.query.name&&(t.value.name=r.query.name);const y=()=>{let o=[t.value];a.value?o.push("put",`sub-categories/${a.value}`):o.push("post","sub-categories"),m(...o).then(()=>{p.push({name:"web-sub-category",params:{id:u.value.category_id}})}).catch(c=>{b(c,v,d,!0)})};return(o,c)=>(l(),n("div",T,[e("div",E,[e("div",V,[e("div",q,[s(a)&&s(t).id?(l(),n("div",B,M)):(l(),n("div",N,D)),e("form",H,[e("div",U,[z,e("div",j,[A,e("div",F,[k(e("input",{type:"text",class:"form-control",placeholder:"Nhập tên","onUpdate:modelValue":c[0]||(c[0]=f=>s(t).name=f)},null,512),[[w,s(t).name]]),s(_)(s(d),"name")?(l(),n("span",{key:0,class:"text-danger",innerHTML:s(_)(s(d),"name")},null,8,G)):C("",!0)])])]),e("div",{class:"border-top"},[e("div",{class:"card-body"},[e("button",{onClick:y,type:"button",class:"btn btn-primary"},"Lưu")])])])])])])]))}};export{K as default};
